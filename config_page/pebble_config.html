<!DOCTYPE html>
<html>
  <head>
    <title>Pebble Config Page</title>
    <link rel="stylesheet" href="pebble_config.css">
  </head>

  <body>
    <h1>Pebble App Config</h1>
    <p>Do you even <a href="https://www.youtube.com/watch?v=1wIV6l2ux_8">Clubcard</a> bro?</p>
    Card Name: <input type="text" id="cardName" Placeholder="Tesco"><br><br>
    Number: <input type="number" id="cardNumber" Placeholder="123456" pattern="\d*"><br><br>
    <button id="addcard_button">Add card</button>
  </body>

  <script>
    function saveOptions() {
      var cardName = document.getElementById("cardName");
      var cardNumber = document.getElementById("cardNumber");
      var options = {"name": cardName.value, "number": cardNumber.value}
      return options;
    };
   
    var submitButton = document.getElementById("addcard_button");
    submitButton.addEventListener("click", 
      function() {
        var options = saveOptions();
        var location = 'pebblejs://close#'+ encodeURIComponent(JSON.stringify(options));
        document.location = location;
      }, 
    false);
  </script>
</html>